{% extends "base.html" %}

{% block content %}
<h1>Sensor Data History (last 100 records)</h1>

<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Timestamp</th>
      <th>Temperature (Â°C)</th>
      <th>Humidity (%)</th>
    </tr>
  </thead>
  <tbody>
    {% for d in data %}
    <tr>
      <td class="timestamp" data-initial="{{ d.timestamp.strftime('%Y-%m-%dT%H:%M:%SZ') }}">
        {{ d.timestamp.strftime('%d/%m/%Y, %H:%M:%S') }}
      </td>
      <td>{{ '%.1f' | format(d.temperature) }}</td>
      <td>{{ '%.1f' | format(d.humidity) }}</td>
    </tr>
    {% else %}
    <tr>
      <td colspan="3">No data available.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='js/history_page.js') }}"></script>
{% endblock %}
